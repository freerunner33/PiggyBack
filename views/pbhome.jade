
extends pblayout

block stylesheets
	link(rel='stylesheet', href='assets/css/large.css')
	link(rel='stylesheet', href='assets/css/small.css')

block content
	div#leftcontainer
		h2 Organization Details:
		ul
			li Name: #{orgName}
			li ID: #{orgID}
			li Email: #{orgEmail}
		h2 Team Details:
		ul
			li Name: #{teamName}
			li ID: #{teamID}
		h3 Workers:
		ul
			if teamWorkers.length
				each w in teamWorkers
					li Name: #{w.name}
					li Phone: #{w.phone}
					li ID: #{w.id}
					li 
						form(method='POST', action='/PiggyBack/delete-worker')
							input(type='hidden', name='id', value=w.id)
							button(type='submit') Delete Worker
					li
						form(method='POST', action='/PiggyBack/update-worker')
							input(type='text', name='name', placeholder='Employee Name')
							input(type='hidden', name='id', value=w.id)
							button(type='submit') Update Worker
					br
			else
				li No workers in #{teamName}

		form#new(method='POST', action='/PiggyBack/new-worker')
			h3 Create new worker on test team:
			p Employee Name
			input(type='text', name='name')
			p Phone Number
			input(type='text', name='number')
			br
			button(type='submit') Submit
	
	div#rightcontainer
		h2 Destination Details: 
		ul
			li ID: #{destination.id}
			li Address:
			ul
				li Name: #{destination.address.name}
				li Number: #{destination.address.number}
				li Street: #{destination.address.street}
				li Apartment: #{destination.address.apartment}
				li City: #{destination.address.city}
				li State: #{destination.address.state}
				li Postal Code: #{destination.address.postalCode}
				li Country: #{destination.address.country}

		h2 Current Tasks:
		ul
			if tasks.length
				each task in tasks
					li Task ID: #{task.id}
					li Task State: #{task.state}
					li Destination:
					ul
						li #{task.destination.address.number} #{task.destination.address.street}
						li #{task.destination.address.city}, #{task.destination.address.state} #{task.destination.address.postalCode}
					br
			else
				li No tasks at the moment

		//- h4 Create New Destination:
		//- form(method='POST', action='/PiggyBack/new-destination')
		//- 	input(type='text', name='name', placeholder='Name')
		//- 	input(type='number', name='number', placeholder='Number', required)
		//- 	input(type='text', name='street', placeholder='Street', required)
		//- 	input(type='text', name='apartment', placeholder='Apartment')
		//- 	input(type='text', name='city', placeholder='City', required)
		//- 	input(type='text', name='state', placeholder='State')
		//- 	input(type='number', name='postalCode', placeholder='Postal Code')
		//- 	input(type='text', name='country', placeholder='Country', required)
		//- 	button(type='submit') Submit
		
		form#new(method='POST', action='/PiggyBack/new-task')
			h3 Create new task:
			p Merchant (ID):
			input(type='text', name='merchant', required)
			p Executor:
			input(type='text', name='executor', required)
			p Destination:
			input(type='text', name='destination', required)
			p Recipient:
			input(type='text', name='recipients')
			p Complete After:
			input(type='time', name='completeAfter')
			p Complete Before:
			input(type='time', name='completeBefore')
			p Pickup Task?
			input(type='checkbox', name='pickupTask')
			p Dependencies:
			input(type='text', name='dependencies', placeholder='Task IDs')
			p Task Notes:
			input(type='text', name='notes', placeholder='Notes')
			br
			button(type='submit') Submit
