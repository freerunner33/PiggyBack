
extends pblayout

block stylesheets
	link(rel='stylesheet', href='assets/css/tasks.css')

block content
	section
		a(href='/Piggyback/test') Test Button
		form#new(method='POST', action='/Piggyback/jobs') 
			h1 Create Job
			div#main
				p Pickup waypoint:
				div#smalldiv
					p Address (line 1):
					input(type='text', name='pickup_address', required, autocomplete='off')
					p Address (line 2):
					input(type='text', name='pickup_address2', autocomplete='off')
					p City:
					input(type='text', name='pickup_city', required, autocomplete='off')
					p State:
					input(type='text', name='pickup_state', required, autocomplete='off')
					p Zip:
					input(type='number', name='pickup_zip', required, autocomplete='off')
					p Name (of contact):
					input(type='text', name='pickup_name', required, autocomplete='off')
					p Phone number (of contact):
					input(type='number', name='pickup_phone', required, autocomplete='off')
					div#smalldiv
						p Latitude:
						input(type='number', name='pickup_latitude', required, autocomplete='off', value='32.715825')
						p Longitude:
						input(type='number', name='pickup_longitude', required, autocomplete='off', value='-117.158910')
					p Arrive at:
					input(type='datetime-local', name='pickup_arrive_at', required, autocomplete='off')
					p Special Instructions:
					input(type='text', name='pickup_special_instructions', autocomplete='off')
				p Dropoff waypoint:
				div#smalldiv
					p Address (line 1):
					input(type='text', name='dropoff_address', required, autocomplete='off')
					p Address (line 2):
					input(type='text', name='dropoff_address2', autocomplete='off')
					p City:
					input(type='text', name='dropoff_city', required, autocomplete='off')
					p State:
					input(type='text', name='dropoff_state', required, autocomplete='off')
					p Zip:
					input(type='number', name='dropoff_zip', required, autocomplete='off')
					p Name (of contact):
					input(type='text', name='dropoff_name', required, autocomplete='off')
					p Phone number (of contact):
					input(type='number', name='dropoff_phone', required, autocomplete='off')
					div#smalldiv
						p Latitude:
						input(type='number', name='dropoff_latitude', required, autocomplete='off', value='32.715825')
						p Longitude:
						input(type='number', name='dropoff_longitude', required, autocomplete='off', value='-117.158910')
					p Arrive at:
					input(type='datetime-local', name='dropoff_arrive_at', required, autocomplete='off')
					p Special Instructions:
					input(type='text', name='dropoff_special_instructions', autocomplete='off')

				p Order ID:
				input(type='text', name='order_id', required)
				p Order Items:
				input(type='text', name='order_items')
				p Order Total:
				input(type='number', step='0.01' name='order_total')
				p Tip:
				input(type='number', step='0.01' name='tip')
				p Support Phone:
				input(type='text', name='support_phone')
				p Debug
				input(type='number', name='debug')
				
			div#main
				h2 Create Waypoint
				p Address:
				input(type='text', name='address', required)
				p Address (line 2):
				input(type='text', name='address')
			//- 	p City:
			//- 	input(type='text', name='city', required)
			//- 	p State:
			//- 	input(type='text', name='state', required)
			//- 	p Zip Code:
			//- 	input(type='number', name='zip', required)
			//- 	p Name (of contact)
			//- 	input(type='text', name='name', required)
			//- 	p Phone (of contact)
			//- 	input(type='number', name='phone', required)
			//- 	p Email (of contact)
			//- 	input(type='text', name='email')
			//- 	p Location (object)
			//- 	input(type='text', name='location', required)
			//- 	p Arrive At: (required for pickup)
			//- 	input(type='text', name='arrive_at', required)
			//- 	p Special instructions:
			//- 	input(type='text', name='special_instructions')
			div#main
				button(type='submit') Submit

	h2 Current Tasks:
	ul
		if data.length
			each task in data
				li Task ID: #{task.id}
				li Task State: #{task.state}
				li Destination:
				ul
					li #{task.destination.address.number} #{task.destination.address.street}
					li #{task.destination.address.city}, #{task.destination.address.state} #{task.destination.address.postalCode}
				br
		else
			li No tasks at the moment

	h2 Destinations:
	ul
		if dest.length
			each d in dest
				h3 #{d.name}
				li ID: #{d.id}
				li #{d.number} #{d.street} 
				li #{d.city}, #{d.state} #{d.postalCode}

	form#new(method='POST', action='/Piggyback/new-destination')
		h3 Create new destination
			p *Name:
			input(type='text', name='name', required, autocomplete='off')
			p *Number:
			input(type='number', name='number', required, autocomplete='off')
			p *Street:
			input(type='text', name='street', required, autocomplete='off')
			p Apartment:
			input(type='text', name='apartment', autocomplete='off')
			p *City:
			input(type='text', name='city', required, autocomplete='off')
			p State:
			input(type='text', name='state', autocomplete='off')
			p Postal Code:
			input(type='number', name='postalCode', autocomplete='off')
			p *Country:
			input(type='text', name='country', required, autocomplete='off')
			button(type='submit') Submit
		
	form#new(method='POST', action='/Piggyback/new-task')
		h3 Create new task:
		p Company:
		input(type='text', name='company', required, autocomplete='off')
		p Driver Tip:
		input(type='number', step='0.01', name='driverTip', autocomplete='off')
		p Destination:
		input(type='text', name='destination', required, autocomplete='off', value='IWU6PFSVyLhAbifvh3KnDxnZ')
		p Recipient:
		input(type='text', name='recipients', autocomplete='off')
		p Complete After:
		input(type='time', name='completeAfter')
		p Complete Before:
		input(type='time', name='completeBefore')
		p Pickup Task?
		input(type='checkbox', name='pickupTask')
		p Dependencies:
		input(type='text', name='dependencies', placeholder='Task IDs', autocomplete='off')
		p Task Notes:
		input(type='text', name='notes', placeholder='Notes', autocomplete='off')
		br
		button(type='submit') Submit
